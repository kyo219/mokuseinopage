---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Welcome">
	<div class="welcome-container">
		<div class="hero-section">
			<div class="glowing-circle"></div>
			<div class="content-wrapper">
				<h1 class="hero-title">
					<span class="gradient-text">Welcome to</span>
					<span class="typing-text">My Digital Space</span>
				</h1>
				<div class="terminal-window">
					<div class="terminal-header">
						<span class="terminal-dot"></span>
						<span class="terminal-dot"></span>
						<span class="terminal-dot"></span>
					</div>
					<div class="terminal-body">
						<div class="command-line">
							<span class="prompt">$</span>
							<span class="command typing-command">echo "Hello, World!"</span>
						</div>
						<div class="command-output show-output">
							技術とクリエイティビティの交差点で、<br>
							アイデアを形にする場所。
						</div>
						<div class="command-line delayed">
							<span class="prompt">$</span>
							<span class="command typing-command-2">cat about.txt</span>
						</div>
						<div class="command-output show-output-2">
							ここでは、私の技術的な探求、<br>
							プロジェクトの記録、<br>
							そして日々の発見を共有しています。
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="ufo-container">
			<div class="ufo">
				<div class="ufo-body">
					<div class="ufo-cockpit"></div>
					<div class="ufo-beam"></div>
				</div>
				<div class="ufo-thought">
					<div class="thought-bubble">
						<span>🐮</span>
					</div>
				</div>
			</div>
		</div>

		<div class="cards-section">
			<a href="/product" class="card-link">
				<div class="feature-card product-card">
					<div class="card-content">
						<div class="card-icon">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
							</svg>
						</div>
						<h2>Product</h2>
						<p>個人プロジェクト、実験的な取り組み、制作物をまとめています。</p>
						<div class="card-arrow">
							<span>→</span>
						</div>
					</div>
					<div class="card-background"></div>
				</div>
			</a>

			<a href="/blog" class="card-link">
				<div class="feature-card blog-card">
					<div class="card-content">
						<div class="card-icon">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M12 19l7-7 3 3-7 7-3-3z"></path>
								<path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
								<path d="M2 2l7.586 7.586"></path>
								<circle cx="11" cy="11" r="2"></circle>
							</svg>
						</div>
						<h2>Blog</h2>
						<p>技術記事、チュートリアル、日々の発見を投稿しています。</p>
						<div class="card-arrow">
							<span>→</span>
						</div>
					</div>
					<div class="card-background"></div>
				</div>
			</a>
		</div>
	</div>
</Layout>

<style>
	.welcome-container {
		padding: 2rem 0;
		min-height: 100vh;
		position: relative;
		overflow: hidden;
	}

	.hero-section {
		position: relative;
		padding: 4rem 2rem;
		overflow: hidden;
		display: flex;
		justify-content: center;
		align-items: center;
		min-height: 40vh;
	}

	.glowing-circle {
		position: absolute;
		width: 600px;
		height: 600px;
		background: radial-gradient(circle, rgba(29, 155, 240, 0.1) 0%, rgba(29, 155, 240, 0) 70%);
		border-radius: 50%;
		animation: pulse 4s ease-in-out infinite;
		z-index: 0;
	}

	.content-wrapper {
		position: relative;
		z-index: 1;
		width: 100%;
		max-width: 800px;
	}

	.hero-title {
		text-align: center;
		font-size: 2.5rem;
		margin-bottom: 2rem;
		line-height: 1.2;
	}

	.gradient-text {
		background: linear-gradient(45deg, #1d9bf0, #8b44ff);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		display: block;
		font-size: 1.5rem;
		margin-bottom: 0.5rem;
	}

	.typing-text {
		display: block;
		border-right: 3px solid var(--accent-color);
		white-space: nowrap;
		animation: typing 3s steps(20, end), blink 1s step-end infinite;
		overflow: hidden;
	}

	.terminal-window {
		background: var(--code-bg);
		border-radius: 12px;
		border: 1px solid var(--border-color);
		overflow: hidden;
		margin-top: 3rem;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
	}

	.terminal-header {
		background: rgba(255, 255, 255, 0.1);
		padding: 0.75rem;
		display: flex;
		gap: 0.5rem;
	}

	.terminal-dot {
		width: 12px;
		height: 12px;
		border-radius: 50%;
		background: var(--border-color);
	}

	.terminal-body {
		padding: 1.5rem;
		font-family: 'JetBrains Mono', monospace;
		line-height: 1.6;
	}

	.command-line {
		display: flex;
		gap: 0.5rem;
		margin-bottom: 1rem;
		opacity: 0;
		animation: fadeIn 0.5s forwards;
	}

	.delayed {
		animation-delay: 2s;
	}

	.prompt {
		color: var(--accent-color);
	}

	.command {
		color: #e6edf3;
	}

	.typing-command {
		animation: typing 1s steps(20, end);
		white-space: nowrap;
		overflow: hidden;
	}

	.typing-command-2 {
		animation: typing 1s steps(20, end);
		animation-delay: 2s;
		white-space: nowrap;
		overflow: hidden;
	}

	.command-output {
		color: #00ff00;
		margin-bottom: 1.5rem;
		opacity: 0;
	}

	.show-output {
		animation: fadeIn 0.5s forwards;
		animation-delay: 1s;
	}

	.show-output-2 {
		animation: fadeIn 0.5s forwards;
		animation-delay: 3s;
	}

	.ufo-container {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		pointer-events: none;
		z-index: 10;
	}

	.ufo {
		position: absolute;
		animation: fly 15s ease-in-out infinite;
	}

	.ufo-body {
		width: 80px;
		height: 32px;
		background: #1d9bf0;
		border-radius: 50px;
		position: relative;
		box-shadow: 0 0 20px rgba(29, 155, 240, 0.3);
	}

	.ufo-cockpit {
		width: 48px;
		height: 24px;
		background: rgba(255, 255, 255, 0.9);
		border-radius: 24px 24px 0 0;
		position: absolute;
		top: -12px;
		left: 16px;
	}

	.ufo-beam {
		width: 48px;
		height: 48px;
		background: linear-gradient(to bottom, rgba(29, 155, 240, 0.2), transparent);
		position: absolute;
		bottom: -46px;
		left: 16px;
		clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);
		animation: beam 2s ease-in-out infinite;
	}

	.ufo-thought {
		position: absolute;
		top: -40px;
		left: 50%;
		transform: translateX(-50%);
	}

	.thought-bubble {
		background: white;
		padding: 6px 10px;
		border-radius: 12px;
		font-size: 1rem;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		position: relative;
	}

	.thought-bubble span {
		color: var(--accent-color);
		font-weight: bold;
	}

	.thought-bubble::after {
		content: '';
		position: absolute;
		bottom: -6px;
		left: 50%;
		transform: translateX(-50%);
		width: 12px;
		height: 12px;
		background: white;
		border-radius: 50%;
	}

	.cards-section {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 2rem;
		padding: 2rem;
		margin-top: 2rem;
		position: relative;
		z-index: 1;
	}

	.card-link {
		text-decoration: none;
		color: inherit;
	}

	.feature-card {
		position: relative;
		background: var(--card-bg);
		border-radius: 16px;
		border: 1px solid var(--border-color);
		padding: 2rem;
		overflow: hidden;
		transition: all 0.3s ease;
		height: 300px;
		display: flex;
		flex-direction: column;
	}

	.card-content {
		position: relative;
		z-index: 1;
		flex: 1;
		display: flex;
		flex-direction: column;
	}

	.card-icon {
		width: 48px;
		height: 48px;
		background: rgba(29, 155, 240, 0.1);
		border-radius: 12px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--accent-color);
		margin-bottom: 1rem;
	}

	.card-background {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: radial-gradient(circle at top right, rgba(29, 155, 240, 0.1), transparent 70%);
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.feature-card:hover {
		transform: translateY(-4px);
		border-color: var(--accent-color);
	}

	.feature-card:hover .card-background {
		opacity: 1;
	}

	.card-arrow {
		position: absolute;
		right: 2rem;
		bottom: 2rem;
		font-size: 1.5rem;
		color: var(--accent-color);
		opacity: 0;
		transform: translateX(-10px);
		transition: all 0.3s ease;
	}

	.feature-card:hover .card-arrow {
		opacity: 1;
		transform: translateX(0);
	}

	@keyframes pulse {
		0% { transform: scale(1); opacity: 0.5; }
		50% { transform: scale(1.1); opacity: 0.3; }
		100% { transform: scale(1); opacity: 0.5; }
	}

	@keyframes typing {
		from { width: 0 }
		to { width: 100% }
	}

	@keyframes blink {
		50% { border-color: transparent }
	}

	@keyframes fadeIn {
		from { opacity: 0; transform: translateY(10px); }
		to { opacity: 1; transform: translateY(0); }
	}

	@keyframes fly {
		0% {
			transform: translate(-100px, 100px) rotate(5deg);
		}
		25% {
			transform: translate(30%, 150px) rotate(-5deg);
		}
		50% {
			transform: translate(70%, 50px) rotate(5deg);
		}
		75% {
			transform: translate(30%, 150px) rotate(-5deg);
		}
		100% {
			transform: translate(-100px, 100px) rotate(5deg);
		}
	}

	@keyframes beam {
		0%, 100% {
			opacity: 0.5;
			transform: scaleY(1);
		}
		50% {
			opacity: 0.8;
			transform: scaleY(1.1);
		}
	}

	@media (max-width: 768px) {
		.hero-section {
			padding: 2rem 1rem;
			min-height: 40vh;
		}

		.hero-title {
			font-size: 2rem;
		}

		.gradient-text {
			font-size: 1.2rem;
		}

		.cards-section {
			grid-template-columns: 1fr;
			margin-top: 2rem;
			padding: 1rem;
		}

		.feature-card {
			height: 250px;
		}

		.ufo-body {
			width: 60px;
			height: 24px;
		}

		.ufo-cockpit {
			width: 36px;
			height: 18px;
			top: -9px;
			left: 12px;
		}

		.ufo-beam {
			width: 36px;
			height: 36px;
			bottom: -34px;
			left: 12px;
		}

		.thought-bubble {
			font-size: 0.8rem;
			padding: 4px 8px;
		}
	}
</style>

<script>
	// UFOの動きをよりランダムにする
	document.addEventListener('DOMContentLoaded', () => {
		const ufo = document.querySelector('.ufo') as HTMLElement;
		if (!ufo) return;

		let lastMouseX = 0;
		let lastMouseY = 0;

		document.addEventListener('mousemove', (e) => {
			const deltaX = (e.clientX - lastMouseX) * 0.05;
			const deltaY = (e.clientY - lastMouseY) * 0.05;

			const currentTransform = getComputedStyle(ufo).transform;
			const matrix = new DOMMatrix(currentTransform);
			const currentX = matrix.m41;
			const currentY = matrix.m42;

			ufo.style.transform = `translate(${currentX + deltaX}px, ${currentY + deltaY}px) rotate(${deltaX}deg)`;

			lastMouseX = e.clientX;
			lastMouseY = e.clientY;
		});
	});
</script>